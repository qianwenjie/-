# SmartParamExtractor 测试指南

## 如何运行测试

### 方法1: 浏览器自动运行

1. 在浏览器中打开：
   ```
   prototypes/admin/ai-assistant.html?test=true
   ```

2. 打开浏览器开发者工具（F12）

3. 切换到 Console 标签页

4. 查看测试结果

### 方法2: 手动运行

1. 在浏览器中打开：
   ```
   prototypes/admin/ai-assistant.html
   ```

2. 打开浏览器开发者工具（F12）

3. 在 Console 中输入：
   ```javascript
   testSmartParamExtractor()
   ```

4. 按 Enter 运行

## 测试用例

### 测试1: 生成10道单选题
- **输入**: "生成10道单选题"
- **期望**: `{ type: 'single', count: 10 }`

### 测试2: 来点所有题型
- **输入**: "来点所有题型"
- **期望**: `{ type: 'all', count: 10 }`

### 测试3: 5道中等难度的判断题
- **输入**: "5道中等难度的判断题"
- **期望**: `{ type: 'judge', count: 5, difficulty: 2 }`

### 测试4: 生成关于数据结构的简单题目
- **输入**: "生成关于数据结构的简单题目"
- **期望**: `{ knowledgePoint: '数据结构', difficulty: 1 }`

### 测试5: 来点多选题，多一些
- **输入**: "来点多选题，多一些"
- **期望**: `{ type: 'multiple', count: 15 }`

## 预期输出

```
=== SmartParamExtractor 测试开始 ===
✓ 测试 1 通过: 生成10道单选题
✓ 测试 2 通过: 来点所有题型
✓ 测试 3 通过: 5道中等难度的判断题
✓ 测试 4 通过: 生成关于数据结构的简单题目
✓ 测试 5 通过: 来点多选题，多一些
=== 测试完成: 5 通过, 0 失败 ===
```

## 故障排查

### 如果测试失败

1. 检查控制台错误信息，查看哪个参数不匹配
2. 检查 SmartParamExtractor 类的相应提取方法
3. 修复后重新运行测试

### 常见问题

**Q: 测试没有自动运行？**
A: 确保URL中包含 `?test=true` 参数

**Q: 控制台没有输出？**
A: 检查浏览器是否支持 ES6 语法，建议使用 Chrome/Edge/Firefox 最新版本

**Q: 某个测试失败了怎么办？**
A: 查看错误信息中的"期望"和"实际"值，定位到对应的提取方法进行修复
