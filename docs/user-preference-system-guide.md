# ç”¨æˆ·åå¥½ç®¡ç†ç³»ç»Ÿ - ç”¨æˆ·æŒ‡å—

## ç›®å½•

1. [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
2. [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
3. [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
4. [API å‚è€ƒ](#api-å‚è€ƒ)
5. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
6. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

## ç³»ç»Ÿæ¦‚è¿°

### ä»€ä¹ˆæ˜¯ç”¨æˆ·åå¥½ç®¡ç†ç³»ç»Ÿï¼Ÿ

ç”¨æˆ·åå¥½ç®¡ç†ç³»ç»Ÿæ˜¯ AI åŠ©æ‰‹çš„æ™ºèƒ½åŒ–æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒèƒ½å¤Ÿï¼š

- ğŸ“Š **è®°å½•ç”¨æˆ·è¡Œä¸º**: è‡ªåŠ¨è¿½è¸ªç”¨æˆ·çš„æ“ä½œä¹ æƒ¯
- ğŸ§  **åˆ†æè¡Œä¸ºæ¨¡å¼**: è¯†åˆ«ç”¨æˆ·çš„ä½¿ç”¨åå¥½å’Œè§„å¾‹
- ğŸ’¡ **æ™ºèƒ½æ¨è**: åŸºäºå†å²æ•°æ®æä¾›ä¸ªæ€§åŒ–å»ºè®®
- ğŸ”„ **æŒç»­å­¦ä¹ **: éšç€ä½¿ç”¨æ¬¡æ•°å¢åŠ ï¼Œæ¨èè¶Šæ¥è¶Šå‡†ç¡®

### ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ç”¨æˆ·åå¥½ç®¡ç†ç³»ç»Ÿ                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ åå¥½è®°å½• â”‚  â”‚ è¡Œä¸ºåˆ†æ â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â”‚
â”‚       â”‚             â”‚                  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚              â†“                         â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚       â”‚  æ™ºèƒ½æ¨è    â”‚                â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚              â†“                         â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚       â”‚ LocalStorage â”‚                â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. åå¥½è®°å½•

ç³»ç»Ÿè‡ªåŠ¨è®°å½•ä»¥ä¸‹ç”¨æˆ·è¡Œä¸ºï¼š

#### é¢˜å‹åå¥½
- å•é€‰é¢˜ã€å¤šé€‰é¢˜ã€åˆ¤æ–­é¢˜ã€å¡«ç©ºé¢˜ã€ç®€ç­”é¢˜
- è®°å½•æ¯ç§é¢˜å‹çš„ä½¿ç”¨æ¬¡æ•°å’Œç™¾åˆ†æ¯”

#### éš¾åº¦åå¥½
- ä¸€çº§ï¼ˆæœ€ç®€å•ï¼‰åˆ°äº”çº§ï¼ˆæœ€éš¾ï¼‰
- è¿½è¸ªæ¯ä¸ªéš¾åº¦çº§åˆ«çš„é€‰æ‹©é¢‘ç‡

#### æ•°é‡åå¥½
- è®°å½•æ¯æ¬¡ç”Ÿæˆçš„é¢˜ç›®æ•°é‡
- è®¡ç®—å¹³å‡å€¼å’Œæœ€å¸¸ç”¨æ•°é‡

#### çŸ¥è¯†ç‚¹åå¥½
- è¿½è¸ªæœ€å¸¸ä½¿ç”¨çš„çŸ¥è¯†ç‚¹
- è¯†åˆ«çŸ¥è¯†ç‚¹ä½¿ç”¨è¶‹åŠ¿

### 2. è¡Œä¸ºåˆ†æ

#### æ—¶é—´æ¨¡å¼åˆ†æ
ç³»ç»Ÿä¼šåˆ†æç”¨æˆ·åœ¨ä¸åŒæ—¶é—´æ®µçš„è¡Œä¸ºå·®å¼‚ï¼š

- **å·¥ä½œæ—¥æ¨¡å¼**: å‘¨ä¸€è‡³å‘¨äº”çš„ä½¿ç”¨ä¹ æƒ¯
- **å‘¨æœ«æ¨¡å¼**: å‘¨å…­è‡³å‘¨æ—¥çš„ä½¿ç”¨ä¹ æƒ¯

åˆ†æç»´åº¦ï¼š
- å¹³å‡éš¾åº¦é€‰æ‹©
- å¹³å‡é¢˜ç›®æ•°é‡
- æœ€å¸¸ç”¨é¢˜å‹

#### çŸ¥è¯†ç‚¹å…³æ³¨åˆ†æ
- **æœ€è¿‘ä½¿ç”¨**: æœ€è¿‘ 5 ä¸ªä½¿ç”¨çš„çŸ¥è¯†ç‚¹
- **è¶‹åŠ¿åˆ†æ**: è¯†åˆ«æ­£åœ¨ä¸Šå‡çš„çŸ¥è¯†ç‚¹

#### å¸¸ç”¨ç»„åˆåˆ†æ
è¯†åˆ«ç”¨æˆ·ç»å¸¸ä½¿ç”¨çš„å‚æ•°ç»„åˆï¼š
- é¢˜å‹ + éš¾åº¦ + çŸ¥è¯†ç‚¹
- æŒ‰ä½¿ç”¨é¢‘ç‡æ’åº

### 3. æ™ºèƒ½æ¨è

åŸºäºå¤šç»´åº¦æ•°æ®æä¾›ä¸ªæ€§åŒ–æ¨èï¼š

#### æ¨èç»´åº¦

1. **åŸºç¡€åå¥½** (æƒé‡ 40%)
   - æœ€å¸¸ç”¨çš„é¢˜å‹
   - æœ€å¸¸é€‰æ‹©çš„éš¾åº¦
   - åå¥½çš„é¢˜ç›®æ•°é‡

2. **æ—¶é—´æ¨¡å¼** (æƒé‡ 30%)
   - æ ¹æ®å½“å‰æ˜¯å·¥ä½œæ—¥è¿˜æ˜¯å‘¨æœ«
   - æ¨èç›¸åº”çš„å‚æ•°é…ç½®

3. **çŸ¥è¯†ç‚¹å…³æ³¨** (æƒé‡ 20%)
   - æœ€è¿‘ä½¿ç”¨çš„çŸ¥è¯†ç‚¹
   - è¶‹åŠ¿ä¸Šå‡çš„çŸ¥è¯†ç‚¹

4. **å¸¸ç”¨ç»„åˆ** (æƒé‡ 10%)
   - å†å²ä¸Šç»å¸¸ä½¿ç”¨çš„å‚æ•°ç»„åˆ

#### ç½®ä¿¡åº¦è¯„åˆ†

ç³»ç»Ÿä¼šä¸ºæ¯ä¸ªæ¨èæä¾›ç½®ä¿¡åº¦è¯„åˆ†ï¼š

- **é«˜ç½®ä¿¡åº¦** (0.8-1.0): åŸºäºå……è¶³çš„å†å²æ•°æ®
- **ä¸­ç½®ä¿¡åº¦** (0.5-0.8): åŸºäºä¸€å®šçš„å†å²æ•°æ®
- **ä½ç½®ä¿¡åº¦** (0.0-0.5): å†å²æ•°æ®è¾ƒå°‘

## ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹

#### 1. é¦–æ¬¡ä½¿ç”¨

é¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œç³»ç»Ÿä¼šä½¿ç”¨é»˜è®¤é…ç½®ï¼š

```javascript
// ç³»ç»Ÿä¼šè‡ªåŠ¨åˆå§‹åŒ–
const preferenceManager = new UserPreferenceManager();
```

æ­¤æ—¶æ²¡æœ‰å†å²æ•°æ®ï¼Œæ¨èåŠŸèƒ½ä¼šè¿”å›é»˜è®¤å€¼ã€‚

#### 2. æ­£å¸¸ä½¿ç”¨

åªéœ€æ­£å¸¸ä½¿ç”¨ AI åŠ©æ‰‹ç”Ÿæˆé¢˜ç›®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š

1. è®°å½•ä½ çš„æ“ä½œ
2. åˆ†æä½ çš„è¡Œä¸ºæ¨¡å¼
3. åœ¨ä¸‹æ¬¡ä½¿ç”¨æ—¶æä¾›æ¨è

#### 3. æŸ¥çœ‹æ¨è

å½“ä½ è¾“å…¥ä¸å®Œæ•´çš„æŒ‡ä»¤æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æä¾›æ¨èï¼š

```
ç”¨æˆ·è¾“å…¥: "ç”Ÿæˆé¢˜ç›®"

AI å“åº”:
æ ¹æ®æ‚¨çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œæˆ‘æ¨èï¼š
- é¢˜å‹: å•é€‰é¢˜ (æ‚¨æœ€å¸¸ä½¿ç”¨)
- éš¾åº¦: ä¸‰çº§ (æ‚¨çš„åå¥½éš¾åº¦)
- æ•°é‡: 10 é¢˜ (æ‚¨çš„å¸¸ç”¨æ•°é‡)
- çŸ¥è¯†ç‚¹: æ•°æ®ç»“æ„ (æ‚¨æœ€è¿‘å…³æ³¨)

æ˜¯å¦ä½¿ç”¨è¿™äº›æ¨èï¼Ÿ
```

### è¯¦ç»†ä½¿ç”¨åœºæ™¯

#### åœºæ™¯ 1: å¿«é€Ÿç”Ÿæˆé¢˜ç›®

**ç”¨æˆ·è¾“å…¥**: "ç”Ÿæˆé¢˜ç›®"

**ç³»ç»Ÿè¡Œä¸º**:
1. æ£€æµ‹åˆ°å‚æ•°ä¸å®Œæ•´
2. è°ƒç”¨ `getSmartRecommendations()`
3. è¿”å›ä¸ªæ€§åŒ–æ¨è
4. ç­‰å¾…ç”¨æˆ·ç¡®è®¤

**æ¨èç¤ºä¾‹**:
```javascript
{
  questionType: {
    value: 'single',
    confidence: 0.85,
    reason: 'æ‚¨åœ¨ 85% çš„æƒ…å†µä¸‹é€‰æ‹©å•é€‰é¢˜'
  },
  difficulty: {
    value: 3,
    confidence: 0.72,
    reason: 'æ‚¨æœ€å¸¸é€‰æ‹©ä¸‰çº§éš¾åº¦'
  },
  quantity: {
    value: 10,
    confidence: 0.90,
    reason: 'æ‚¨ 90% çš„æ—¶å€™ç”Ÿæˆ 10 é“é¢˜'
  }
}
```

#### åœºæ™¯ 2: éƒ¨åˆ†å‚æ•°æŒ‡å®š

**ç”¨æˆ·è¾“å…¥**: "ç”Ÿæˆ 20 é“å•é€‰é¢˜"

**ç³»ç»Ÿè¡Œä¸º**:
1. è§£æå·²çŸ¥å‚æ•°: æ•°é‡=20, é¢˜å‹=å•é€‰
2. æ¨èç¼ºå¤±å‚æ•°: éš¾åº¦ã€çŸ¥è¯†ç‚¹
3. ä½¿ç”¨æ¨èå€¼è¡¥å…¨

#### åœºæ™¯ 3: å®Œæ•´å‚æ•°æŒ‡å®š

**ç”¨æˆ·è¾“å…¥**: "ç”Ÿæˆ 15 é“ä¸‰çº§éš¾åº¦çš„æ•°æ®ç»“æ„å•é€‰é¢˜"

**ç³»ç»Ÿè¡Œä¸º**:
1. æ‰€æœ‰å‚æ•°å·²æŒ‡å®š
2. ç›´æ¥ç”Ÿæˆé¢˜ç›®
3. è®°å½•æ­¤æ¬¡æ“ä½œ
4. æ›´æ–°åå¥½æ•°æ®

### é«˜çº§åŠŸèƒ½

#### æŸ¥çœ‹åå¥½ç»Ÿè®¡

```javascript
// è·å–é¢˜å‹åå¥½
const typePreference = preferenceManager.getPreferredQuestionType();
console.log(typePreference);
// è¾“å‡º: { type: 'single', confidence: 0.85 }

// è·å–éš¾åº¦åå¥½
const difficultyPreference = preferenceManager.getPreferredDifficulty();
console.log(difficultyPreference);
// è¾“å‡º: { difficulty: 3, confidence: 0.72 }

// è·å–æ•°é‡åå¥½
const quantityPreference = preferenceManager.getPreferredQuantity();
console.log(quantityPreference);
// è¾“å‡º: { quantity: 10, confidence: 0.90 }
```

#### æŸ¥çœ‹è¡Œä¸ºæ¨¡å¼

```javascript
// è·å–æœ€è¿‘è¡Œä¸º
const recentBehavior = preferenceManager.getRecentBehavior(5);
console.log(recentBehavior);
// è¾“å‡º: æœ€è¿‘ 5 æ¬¡æ“ä½œçš„è¯¦ç»†ä¿¡æ¯

// è·å–æ—¶é—´æ¨¡å¼
const timePatterns = preferenceManager.preferences.behaviorPatterns.timePatterns;
console.log(timePatterns);
// è¾“å‡º: å·¥ä½œæ—¥å’Œå‘¨æœ«çš„è¡Œä¸ºå·®å¼‚
```

#### æ‰‹åŠ¨è®°å½•æ“ä½œ

```javascript
// æ‰‹åŠ¨è®°å½•ä¸€æ¬¡æ“ä½œ
preferenceManager.recordAction({
  type: 'single',
  count: 10,
  difficulty: 3,
  knowledgePoint: 'æ•°æ®ç»“æ„',
  timestamp: new Date()
});
```

## API å‚è€ƒ

### UserPreferenceManager ç±»

#### æ„é€ å‡½æ•°

```javascript
constructor()
```

åˆ›å»ºç”¨æˆ·åå¥½ç®¡ç†å™¨å®ä¾‹ï¼Œè‡ªåŠ¨åŠ è½½å­˜å‚¨çš„åå¥½æ•°æ®ã€‚

#### æ ¸å¿ƒæ–¹æ³•

##### recordAction(params)

è®°å½•ç”¨æˆ·æ“ä½œè¡Œä¸ºã€‚

**å‚æ•°**:
```javascript
{
  type: string,           // é¢˜å‹ (single/multiple/judge/fill/essay/all)
  count: number,          // ç”Ÿæˆæ•°é‡
  difficulty: number,     // éš¾åº¦ (1-5)
  knowledgePoint: string, // çŸ¥è¯†ç‚¹
  timestamp: Date         // æ—¶é—´æˆ³ï¼ˆå¯é€‰ï¼‰
}
```

**è¿”å›**: `boolean` - æ˜¯å¦è®°å½•æˆåŠŸ

**ç¤ºä¾‹**:
```javascript
const success = preferenceManager.recordAction({
  type: 'single',
  count: 10,
  difficulty: 3,
  knowledgePoint: 'æ•°æ®ç»“æ„'
});
```

##### getSmartRecommendations(context)

è·å–æ™ºèƒ½æ¨èã€‚

**å‚æ•°**:
```javascript
{
  currentTime: Date,      // å½“å‰æ—¶é—´ï¼ˆå¯é€‰ï¼‰
  knownParams: Object     // å·²çŸ¥å‚æ•°ï¼ˆå¯é€‰ï¼‰
}
```

**è¿”å›**: `Object` - æ¨èç»“æœ
```javascript
{
  questionType: {
    value: string,
    confidence: number,
    reason: string
  },
  difficulty: {
    value: number,
    confidence: number,
    reason: string
  },
  quantity: {
    value: number,
    confidence: number,
    reason: string
  },
  knowledgePoint: {
    value: string,
    confidence: number,
    reason: string
  }
}
```

**ç¤ºä¾‹**:
```javascript
const recommendations = preferenceManager.getSmartRecommendations({
  currentTime: new Date(),
  knownParams: { type: 'single' }
});
```

##### getPreferredQuestionType()

è·å–åå¥½é¢˜å‹ã€‚

**è¿”å›**: `Object`
```javascript
{
  type: string,      // é¢˜å‹
  confidence: number // ç½®ä¿¡åº¦ (0-1)
}
```

##### getPreferredDifficulty()

è·å–åå¥½éš¾åº¦ã€‚

**è¿”å›**: `Object`
```javascript
{
  difficulty: number, // éš¾åº¦ (1-5)
  confidence: number  // ç½®ä¿¡åº¦ (0-1)
}
```

##### getPreferredQuantity()

è·å–åå¥½æ•°é‡ã€‚

**è¿”å›**: `Object`
```javascript
{
  quantity: number,  // æ•°é‡
  confidence: number // ç½®ä¿¡åº¦ (0-1)
}
```

##### getPreferredKnowledgePoints(limit)

è·å–åå¥½çŸ¥è¯†ç‚¹ã€‚

**å‚æ•°**:
- `limit`: number - è¿”å›æ•°é‡ï¼ˆé»˜è®¤ 5ï¼‰

**è¿”å›**: `Array<Object>`
```javascript
[
  {
    knowledgePoint: string, // çŸ¥è¯†ç‚¹åç§°
    count: number,          // ä½¿ç”¨æ¬¡æ•°
    confidence: number      // ç½®ä¿¡åº¦
  }
]
```

##### getRecentBehavior(limit)

è·å–æœ€è¿‘è¡Œä¸ºã€‚

**å‚æ•°**:
- `limit`: number - è¿”å›æ•°é‡ï¼ˆé»˜è®¤ 10ï¼‰

**è¿”å›**: `Array<Object>` - æœ€è¿‘çš„æ“ä½œè®°å½•

#### æ•°æ®ç®¡ç†æ–¹æ³•

##### loadPreferences()

åŠ è½½åå¥½æ•°æ®ï¼ˆè‡ªåŠ¨è°ƒç”¨ï¼ŒåŒ…å«éªŒè¯å’Œè¿ç§»ï¼‰ã€‚

**è¿”å›**: `Object` - åå¥½æ•°æ®

##### savePreferences()

ä¿å­˜åå¥½æ•°æ®ï¼ˆè‡ªåŠ¨è°ƒç”¨ï¼ŒåŒ…å«éªŒè¯ï¼‰ã€‚

**è¿”å›**: `boolean` - æ˜¯å¦ä¿å­˜æˆåŠŸ

##### validatePreferencesData(data)

éªŒè¯åå¥½æ•°æ®ç»“æ„ã€‚

**å‚æ•°**:
- `data`: Object - å¾…éªŒè¯çš„æ•°æ®

**è¿”å›**: `boolean` - æ˜¯å¦éªŒè¯é€šè¿‡

##### migratePreferences(data)

æ‰§è¡Œæ•°æ®è¿ç§»ã€‚

**å‚æ•°**:
- `data`: Object - å¾…è¿ç§»çš„æ•°æ®

**è¿”å›**: `Object` - è¿ç§»åçš„æ•°æ®

## æœ€ä½³å®è·µ

### 1. è®©ç³»ç»Ÿè‡ªç„¶å­¦ä¹ 

ä¸è¦åˆ»æ„æ”¹å˜ä½¿ç”¨ä¹ æƒ¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å­¦ä¹ ä½ çš„çœŸå®åå¥½ã€‚

### 2. æä¾›åé¦ˆ

å¦‚æœæ¨èä¸å‡†ç¡®ï¼Œå¯ä»¥ï¼š
- ç»§ç»­ä½¿ç”¨ä½ æƒ³è¦çš„å‚æ•°
- ç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒæ•´æ¨è

### 3. ç§¯ç´¯è¶³å¤Ÿæ•°æ®

- è‡³å°‘ä½¿ç”¨ 5-10 æ¬¡åï¼Œæ¨èæ‰ä¼šæ¯”è¾ƒå‡†ç¡®
- ä½¿ç”¨æ¬¡æ•°è¶Šå¤šï¼Œæ¨èè¶Šç²¾å‡†

### 4. å®šæœŸä½¿ç”¨

- ä¿æŒå®šæœŸä½¿ç”¨ï¼Œç³»ç»Ÿèƒ½æ›´å¥½åœ°è¯†åˆ«ä½ çš„ä¹ æƒ¯å˜åŒ–
- é•¿æœŸä¸ä½¿ç”¨å¯èƒ½å¯¼è‡´æ¨èè¿‡æ—¶

### 5. å¤šæ ·åŒ–ä½¿ç”¨

- å°è¯•ä¸åŒçš„å‚æ•°ç»„åˆ
- ç³»ç»Ÿèƒ½å­¦ä¹ åˆ°æ›´ä¸°å¯Œçš„ä½¿ç”¨æ¨¡å¼

## æ•…éšœæ’é™¤

### é—®é¢˜ 1: æ¨èä¸å‡†ç¡®

**å¯èƒ½åŸå› **:
- ä½¿ç”¨æ¬¡æ•°å¤ªå°‘
- ä½¿ç”¨ä¹ æƒ¯ä¸ç¨³å®š

**è§£å†³æ–¹æ¡ˆ**:
- ç»§ç»­ä½¿ç”¨ï¼Œç§¯ç´¯æ›´å¤šæ•°æ®
- ä¿æŒç›¸å¯¹ç¨³å®šçš„ä½¿ç”¨ä¹ æƒ¯

### é—®é¢˜ 2: æ•°æ®ä¸¢å¤±

**å¯èƒ½åŸå› **:
- æ¸…é™¤äº†æµè§ˆå™¨æ•°æ®
- LocalStorage è¢«æ¸…ç©º

**è§£å†³æ–¹æ¡ˆ**:
- æ•°æ®æ— æ³•æ¢å¤
- ç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨é»˜è®¤é…ç½®
- é‡æ–°ç§¯ç´¯ä½¿ç”¨æ•°æ®

### é—®é¢˜ 3: æ¨èæ€»æ˜¯ç›¸åŒ

**å¯èƒ½åŸå› **:
- ä½¿ç”¨ä¹ æƒ¯éå¸¸å›ºå®š
- è¿™æ˜¯æ­£å¸¸ç°è±¡

**è§£å†³æ–¹æ¡ˆ**:
- å¦‚æœæ¨èå‡†ç¡®ï¼Œæ— éœ€å¤„ç†
- å¦‚æœæƒ³æ”¹å˜ï¼Œä½¿ç”¨æ–°çš„å‚æ•°ç»„åˆ

### é—®é¢˜ 4: ä¿å­˜å¤±è´¥

**å¯èƒ½åŸå› **:
- LocalStorage ç©ºé—´ä¸è¶³
- æµè§ˆå™¨é™åˆ¶

**è§£å†³æ–¹æ¡ˆ**:
- ç³»ç»Ÿä¼šè‡ªåŠ¨æ¸…ç†æ—§å¤‡ä»½
- æ£€æŸ¥æµè§ˆå™¨å­˜å‚¨è®¾ç½®
- æ¸…ç†å…¶ä»–ç½‘ç«™çš„æ•°æ®

### é—®é¢˜ 5: åŠ è½½é”™è¯¯

**å¯èƒ½åŸå› **:
- æ•°æ®æŸå
- ç‰ˆæœ¬ä¸å…¼å®¹

**è§£å†³æ–¹æ¡ˆ**:
- ç³»ç»Ÿä¼šè‡ªåŠ¨å¤‡ä»½æŸåæ•°æ®
- è‡ªåŠ¨å›é€€åˆ°é»˜è®¤é…ç½®
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

## å¸¸è§é—®é¢˜

### Q1: ç³»ç»Ÿä¼šè®°å½•å“ªäº›æ•°æ®ï¼Ÿ

**A**: ç³»ç»Ÿåªè®°å½•ä»¥ä¸‹æ•°æ®ï¼š
- é¢˜å‹é€‰æ‹©
- éš¾åº¦é€‰æ‹©
- æ•°é‡é€‰æ‹©
- çŸ¥è¯†ç‚¹é€‰æ‹©
- æ“ä½œæ—¶é—´

ä¸ä¼šè®°å½•ï¼š
- é¢˜ç›®å†…å®¹
- ä¸ªäººä¿¡æ¯
- å…¶ä»–æ•æ„Ÿæ•°æ®

### Q2: æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

**A**: æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨çš„ LocalStorage ä¸­ï¼Œä»…åœ¨æœ¬åœ°å­˜å‚¨ï¼Œä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚

### Q3: å¯ä»¥æ¸…é™¤åå¥½æ•°æ®å—ï¼Ÿ

**A**: å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¸…é™¤ï¼š

```javascript
// æ–¹æ³• 1: æ¸…é™¤ LocalStorage
localStorage.removeItem('ai_assistant_user_preferences');

// æ–¹æ³• 2: æ¸…é™¤æµè§ˆå™¨æ•°æ®
// æµè§ˆå™¨è®¾ç½® -> æ¸…é™¤æµè§ˆæ•°æ® -> é€‰æ‹© LocalStorage
```

### Q4: æ¨èéœ€è¦å¤šä¹…æ‰å‡†ç¡®ï¼Ÿ

**A**:
- 5-10 æ¬¡æ“ä½œ: åŸºæœ¬æ¨è
- 20-30 æ¬¡æ“ä½œ: è¾ƒå‡†ç¡®æ¨è
- 50+ æ¬¡æ“ä½œ: é«˜ç²¾åº¦æ¨è

### Q5: å¯ä»¥è·¨è®¾å¤‡åŒæ­¥å—ï¼Ÿ

**A**: å½“å‰ç‰ˆæœ¬ä¸æ”¯æŒè·¨è®¾å¤‡åŒæ­¥ã€‚æœªæ¥ç‰ˆæœ¬å¯èƒ½ä¼šæ·»åŠ æ­¤åŠŸèƒ½ã€‚

### Q6: ç³»ç»Ÿä¼šè‡ªåŠ¨æ›´æ–°å—ï¼Ÿ

**A**: æ˜¯çš„ï¼Œç³»ç»ŸåŒ…å«è‡ªåŠ¨ç‰ˆæœ¬è¿ç§»åŠŸèƒ½ï¼Œä¼šè‡ªåŠ¨æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚

### Q7: æ¨èçš„ç½®ä¿¡åº¦æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

**A**: ç½®ä¿¡åº¦è¡¨ç¤ºæ¨èçš„å¯é ç¨‹åº¦ï¼š
- 0.8-1.0: éå¸¸å¯é ï¼ŒåŸºäºå……è¶³æ•°æ®
- 0.5-0.8: æ¯”è¾ƒå¯é ï¼ŒåŸºäºä¸€å®šæ•°æ®
- 0.0-0.5: ä¸å¤ªå¯é ï¼Œæ•°æ®è¾ƒå°‘

### Q8: å¯ä»¥æ‰‹åŠ¨è°ƒæ•´åå¥½å—ï¼Ÿ

**A**: å½“å‰ç‰ˆæœ¬ä¸æ”¯æŒæ‰‹åŠ¨è°ƒæ•´ã€‚ç³»ç»Ÿä¼šæ ¹æ®å®é™…ä½¿ç”¨è‡ªåŠ¨å­¦ä¹ ã€‚

### Q9: ç³»ç»Ÿä¼šå½±å“æ€§èƒ½å—ï¼Ÿ

**A**: ä¸ä¼šã€‚ç³»ç»Ÿéå¸¸è½»é‡ï¼š
- åŠ è½½æ—¶é—´ < 10ms
- ä¿å­˜æ—¶é—´ < 5ms
- æ¨èè®¡ç®— < 20ms

### Q10: æ•°æ®ä¼šè¿‡æœŸå—ï¼Ÿ

**A**: ä¸ä¼šã€‚æ‰€æœ‰å†å²æ•°æ®éƒ½ä¼šä¿ç•™ï¼Œä½†ç³»ç»Ÿä¼šæ›´é‡è§†æœ€è¿‘çš„æ•°æ®ã€‚

## æŠ€æœ¯æ”¯æŒ

### æŸ¥çœ‹æ—¥å¿—

æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰ï¼ŒæŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—ï¼š

```javascript
// æŸ¥çœ‹åå¥½æ•°æ®
console.log(preferenceManager.preferences);

// æŸ¥çœ‹æ¨èç»“æœ
console.log(preferenceManager.getSmartRecommendations());

// æŸ¥çœ‹å…ƒæ•°æ®
console.log(preferenceManager.preferences.metadata);
```

### è°ƒè¯•æ¨¡å¼

```javascript
// å¯ç”¨è¯¦ç»†æ—¥å¿—
localStorage.setItem('debug_preferences', 'true');

// ç¦ç”¨è¯¦ç»†æ—¥å¿—
localStorage.removeItem('debug_preferences');
```

### æ•°æ®å¯¼å‡º

```javascript
// å¯¼å‡ºåå¥½æ•°æ®
const data = JSON.stringify(preferenceManager.preferences, null, 2);
console.log(data);

// æˆ–ä¿å­˜åˆ°æ–‡ä»¶
const blob = new Blob([data], { type: 'application/json' });
const url = URL.createObjectURL(blob);
const a = document.createElement('a');
a.href = url;
a.download = 'preferences.json';
a.click();
```

### æ•°æ®å¯¼å…¥

```javascript
// ä» JSON å¯¼å…¥
const importedData = JSON.parse(jsonString);
preferenceManager.preferences = importedData;
preferenceManager.savePreferences();
```

## ç‰ˆæœ¬å†å²

### v1.0 (2026-02-03)

**æ–°å¢åŠŸèƒ½**:
- âœ… å®Œæ•´çš„åå¥½ç®¡ç†ç³»ç»Ÿ
- âœ… æ™ºèƒ½æ¨èå¼•æ“
- âœ… è¡Œä¸ºæ¨¡å¼åˆ†æ
- âœ… æ•°æ®éªŒè¯å’Œè¿ç§»
- âœ… è‡ªåŠ¨å¤‡ä»½æœºåˆ¶

**æ”¹è¿›**:
- ä¼˜åŒ–æ¨èç®—æ³•
- å¢å¼ºæ•°æ®éªŒè¯
- æ”¹è¿›é”™è¯¯å¤„ç†

## é™„å½•

### A. æ•°æ®ç»“æ„å®Œæ•´ç¤ºä¾‹

```javascript
{
  userId: 'default_user',
  version: '1.0',

  basicPreferences: {
    questionType: {
      'single': { count: 45, percentage: 0.45 },
      'multiple': { count: 20, percentage: 0.20 },
      'judge': { count: 15, percentage: 0.15 },
      'fill': { count: 10, percentage: 0.10 },
      'essay': { count: 10, percentage: 0.10 }
    },
    difficulty: {
      '1': { count: 5, percentage: 0.05 },
      '2': { count: 15, percentage: 0.15 },
      '3': { count: 50, percentage: 0.50 },
      '4': { count: 20, percentage: 0.20 },
      '5': { count: 10, percentage: 0.10 }
    },
    quantity: {
      total: 1000,
      average: 10,
      mostCommon: 10,
      distribution: {
        '5': 10,
        '10': 70,
        '15': 15,
        '20': 5
      }
    },
    knowledgePoints: {
      'æ•°æ®ç»“æ„': { count: 40, percentage: 0.40 },
      'ç®—æ³•': { count: 30, percentage: 0.30 },
      'æ•°æ®åº“': { count: 20, percentage: 0.20 },
      'ç½‘ç»œ': { count: 10, percentage: 0.10 }
    }
  },

  scenarioPreferences: {
    'generate_questions': {
      lastUsed: '2026-02-03T10:30:00',
      frequency: 100,
      lastParams: {
        type: 'single',
        count: 10,
        difficulty: 3,
        knowledgePoint: 'æ•°æ®ç»“æ„'
      },
      commonConfig: {
        type: 'single',
        difficulty: 3,
        count: 10
      }
    }
  },

  behaviorPatterns: {
    timePatterns: {
      weekday: {
        samples: 80,
        avgDifficulty: 3.2,
        avgCount: 10,
        commonType: 'single'
      },
      weekend: {
        samples: 20,
        avgDifficulty: 2.8,
        avgCount: 15,
        commonType: 'multiple'
      }
    },
    knowledgePointFocus: {
      recent: ['æ•°æ®ç»“æ„', 'ç®—æ³•', 'æ•°æ®åº“', 'ç½‘ç»œ', 'æ“ä½œç³»ç»Ÿ'],
      trending: 'æ•°æ®ç»“æ„'
    },
    commonCombinations: [
      {
        type: 'single',
        difficulty: 3,
        knowledgePoint: 'æ•°æ®ç»“æ„',
        frequency: 30
      },
      {
        type: 'multiple',
        difficulty: 3,
        knowledgePoint: 'ç®—æ³•',
        frequency: 15
      }
    ]
  },

  conversationStyle: {
    verbosity: 'normal',
    confirmationNeeded: true,
    preferQuickActions: false
  },

  metadata: {
    totalActions: 100,
    firstActionDate: '2026-01-01T00:00:00',
    lastActionDate: '2026-02-03T10:30:00',
    totalQuestionsGenerated: 1000
  }
}
```

### B. æ¨èç®—æ³•è¯¦è§£

æ¨èç®—æ³•ä½¿ç”¨åŠ æƒè¯„åˆ†ç³»ç»Ÿï¼š

```
æ€»åˆ† = Î£(ç»´åº¦åˆ†æ•° Ã— æƒé‡)

å…¶ä¸­:
- åŸºç¡€åå¥½åˆ† = ä½¿ç”¨é¢‘ç‡ Ã— 0.4
- æ—¶é—´æ¨¡å¼åˆ† = æ—¶æ®µåŒ¹é…åº¦ Ã— 0.3
- çŸ¥è¯†ç‚¹å…³æ³¨åˆ† = æœ€è¿‘ä½¿ç”¨åº¦ Ã— 0.2
- å¸¸ç”¨ç»„åˆåˆ† = ç»„åˆé¢‘ç‡ Ã— 0.1

ç½®ä¿¡åº¦ = min(æ ·æœ¬æ•° / 10, 1.0)
```

### C. æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **å‡å°‘ä¿å­˜é¢‘ç‡**: æ‰¹é‡æ“ä½œæ—¶ï¼Œæœ€åç»Ÿä¸€ä¿å­˜
2. **æ•°æ®å‹ç¼©**: å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®
3. **ç¼“å­˜æ¨è**: ç›¸åŒä¸Šä¸‹æ–‡ä½¿ç”¨ç¼“å­˜ç»“æœ
4. **å¼‚æ­¥å¤„ç†**: ä½¿ç”¨ Web Worker å¤„ç†å¤æ‚è®¡ç®—

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2026-02-03
**ç»´æŠ¤è€…**: AI Assistant Development Team
