# 单选题设计说明

## 设计优化内容

### 1. 视觉增强
- ✅ **选项按钮样式优化**
  - 增大按钮尺寸：`px-4 py-2`（原 `px-3 py-1`）
  - 圆角优化：`rounded-lg`（原 `rounded`）
  - 字体加粗：`font-medium`
  - 添加 hover 效果：鼠标悬停时显示蓝色边框和浅蓝背景

- ✅ **选中状态反馈**
  - 选中按钮：蓝色背景 + 白色文字
  - 右上角绿色对勾标记（`✓`）
  - 添加 title 提示："已选中" / "点击选择"

- ✅ **题目卡片优化**
  - 白色背景 + 灰色边框（原灰色背景）
  - 增加内边距：`p-4`（原 `p-3`）
  - 添加 hover 阴影效果
  - 圆角优化：`rounded-lg`

### 2. 布局优化
- ✅ **题号和分值区域**
  - 固定最小宽度：`min-w-[120px]`
  - 题号字体加粗：`font-semibold`
  - 分值输入框居中对齐：`text-center`
  - 添加聚焦样式：`focus:ring-2 focus:ring-primary-500`

- ✅ **选项按钮区域**
  - 使用 `flex-1` 占据剩余空间
  - 去除冗余的"答案：X"文字显示
  - 选项按钮间距优化：`space-x-2`

- ✅ **删除按钮**
  - 添加内边距：`p-2`
  - 添加过渡动画：`transition-colors`
  - 添加 title 提示："删除此题"

### 3. 交互优化
- ✅ **单选逻辑**
  - 点击选项按钮切换选中状态
  - 单选题只能选一个答案（自动取消其他选项）
  - 多选题可以选多个答案

- ✅ **分值设置**
  - 支持小数：`step="0.5"`
  - 最小值限制：`min="0.5"`
  - 实时更新总分

- ✅ **题目管理**
  - 点击"添加题目"按钮新增题目
  - 点击删除按钮移除题目
  - 题号自动编号

## 视觉效果

### 未选中状态
```
┌────────────────────────────────────────────────────┐
│ 第1题  [2] 分    [ A ]  [ B ]  [ C ]  [ D ]    [×] │
└────────────────────────────────────────────────────┘
```

### 选中状态（选中 A）
```
┌────────────────────────────────────────────────────┐
│ 第1题  [2] 分    [✓A]  [ B ]  [ C ]  [ D ]    [×] │
│                  (蓝)                               │
└────────────────────────────────────────────────────┘
```

### Hover 状态
```
┌────────────────────────────────────────────────────┐
│ 第1题  [2] 分    [ A ]  [ B ]  [ C ]  [ D ]    [×] │
│                  (浅蓝)                             │
│                  ↑ 鼠标悬停                         │
└────────────────────────────────────────────────────┘
```

## 使用说明

### 添加单选题
1. 点击右侧"单选题"按钮
2. 系统自动创建4道单选题（默认每题2分）
3. 每道题有 A、B、C、D 四个选项

### 设置答案
1. 点击选项按钮（A/B/C/D）选择正确答案
2. 选中的按钮会变成蓝色，右上角显示绿色对勾
3. 单选题只能选一个答案，点击其他选项会自动取消之前的选择

### 设置分值
- **统一设置**：修改题型标题旁的"每题X分"输入框，所有题目分值同步更新
- **单独设置**：修改每道题的分值输入框，只影响当前题目

### 管理题目
- **添加题目**：点击题型区域底部的"+ 添加题目"按钮
- **删除题目**：点击题目右侧的"×"按钮
- **删除题型**：点击题型标题旁的垃圾桶图标

## 技术实现

### CSS 样式
```css
.answer-option {
  transition: all 0.2s;
  cursor: pointer;
  position: relative;
}
.answer-option:hover {
  border-color: #1890ff;
  background-color: #e6f7ff;
}
.answer-option.selected {
  background-color: #1890ff;
  color: white;
  border-color: #1890ff;
}
.answer-option.selected::before {
  content: '✓';
  position: absolute;
  top: -4px;
  right: -4px;
  width: 16px;
  height: 16px;
  background-color: #52c41a;
  color: white;
  border-radius: 50%;
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}
```

### JavaScript 逻辑
```javascript
// 选择答案
function selectAnswer(type, questionIndex, option, isMultiple) {
  const question = paperData.answerCard[type].questions[questionIndex];

  if (isMultiple) {
    // 多选题：切换选项
    if (!Array.isArray(question.answer)) {
      question.answer = [];
    }
    const index = question.answer.indexOf(option);
    if (index > -1) {
      question.answer.splice(index, 1);
    } else {
      question.answer.push(option);
    }
  } else {
    // 单选题：直接设置答案
    question.answer = option;
  }

  renderQuestions(type);
}
```

## 数据结构

```javascript
// 单选题数据示例
{
  type: 'single',
  scorePerQuestion: 2,
  questions: [
    { id: 1, score: 2, answer: 'A' },
    { id: 2, score: 2, answer: 'B' },
    { id: 3, score: 2, answer: null },  // 未设置答案
    { id: 4, score: 2, answer: 'D' }
  ]
}
```

## 注意事项

1. **答案验证**：当前版本允许不设置答案，保存时会提示
2. **分值限制**：最小0.5分，支持小数
3. **总分检查**：已设分值会实时显示，超过试卷总分会有提示
4. **题号编号**：删除题目后题号不会重新编号，保持原有ID

## 后续优化方向

1. 支持自定义选项数量（如增加 E、F 选项）
2. 支持批量设置答案（如：1-10题答案都是A）
3. 支持从 Excel 导入答案
4. 支持答案随机化（打乱选项顺序）
5. 支持题目预览（显示题目内容）
