<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>题目列表 - 考试系统</title>

  <!-- TailwindCSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- FontAwesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <!-- TailwindCSS 自定义配置 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#E6F9F0',
              100: '#B3EDCE',
              200: '#80E0AD',
              300: '#4DD48B',
              400: '#1AC76A',
              500: '#00B96B',
              600: '#00A35C',
              700: '#008A4D',
              800: '#00703E',
              900: '#00572F',
            },
            success: {
              50: '#E8FFEA',
              500: '#00B42A',
              600: '#009A24',
            },
            warning: {
              50: '#FFF7E8',
              500: '#FF7D00',
              600: '#D66A00',
            },
            error: {
              50: '#FFECE8',
              500: '#F53F3F',
              600: '#CB2634',
            },
            info: {
              50: '#E8F7FF',
              500: '#14C9C9',
              600: '#0EAAAA',
            },
          }
        }
      }
    }
  </script>
  <!-- iframe嵌入检测脚本 - 放在head中立即执行 -->
  <script>
  (function() {
    function isInIframe() {
      try { return window.self !== window.top; } catch (e) { return true; }
    }
    if (isInIframe() || window.location.search.includes("embedded=true")) {
      document.write('<style>header{display:none!important}aside{display:none!important}.pt-16{padding-top:0!important}.ml-64{margin-left:0!important}button[onclick*="history.back"]{display:none!important}</style>');
    }
  })();
  </script>

</head>
<body class="bg-gray-50">
  <div class="min-h-screen">
    <!-- 顶部导航栏 -->
    <header class="h-16 bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50">
      <div class="flex items-center justify-between h-full px-6">
        <div class="flex items-center space-x-4">
          <button id="sidebarToggle" class="w-8 h-8 flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors">
            <i class="fas fa-bars"></i>
          </button>
          <div class="flex items-center space-x-2">
            <div class="w-8 h-8 bg-primary-500 rounded flex items-center justify-center">
              <i class="fas fa-graduation-cap text-white"></i>
            </div>
            <span class="text-xl font-semibold text-gray-900">考试系统</span>
          </div>
          <nav class="hidden md:flex items-center space-x-2 text-sm text-gray-600">
            <a href="#" class="hover:text-primary-500 transition-colors">首页</a>
            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
            <a href="#" class="hover:text-primary-500 transition-colors">题库管理</a>
            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
            <span class="text-gray-900 font-medium">题目列表</span>
          </nav>
        </div>
        <div class="flex items-center space-x-4">
          <button class="relative w-8 h-8 flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors">
            <i class="fas fa-bell"></i>
            <span class="absolute -top-1 -right-1 w-5 h-5 bg-error-500 text-white text-xs font-medium rounded-full flex items-center justify-center">3</span>
          </button>
          <div class="relative">
            <button id="userMenuBtn" class="flex items-center space-x-2 px-3 py-1.5 hover:bg-gray-100 rounded transition-colors">
              <img src="https://via.placeholder.com/32" alt="用户头像" class="w-8 h-8 rounded-full">
              <span class="text-sm text-gray-700 font-medium">管理员</span>
              <i class="fas fa-chevron-down text-xs text-gray-400"></i>
            </button>
            <div id="userMenu" class="hidden absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-md py-1">
              <a href="#" class="flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">
                <i class="fas fa-user w-4"></i>
                <span>个人信息</span>
              </a>
              <a href="#" class="flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">
                <i class="fas fa-cog w-4"></i>
                <span>系统设置</span>
              </a>
              <div class="border-t border-gray-200 my-1"></div>
              <a href="#" class="flex items-center space-x-3 px-4 py-2 text-sm text-error-500 hover:bg-error-50">
                <i class="fas fa-sign-out-alt w-4"></i>
                <span>退出登录</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- 侧边栏 -->
    <aside id="sidebar" class="w-64 bg-white border-r border-gray-200 fixed top-16 left-0 bottom-0 overflow-y-auto transition-all duration-300">
      <nav class="p-4">
        <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded text-sm font-medium text-gray-700 hover:bg-primary-50 hover:text-primary-600 transition-colors">
          <i class="fas fa-home w-5"></i>
          <span class="sidebar-text">首页</span>
        </a>
        <div class="mt-2">
          <button class="menu-item w-full flex items-center justify-between px-3 py-2 rounded text-sm font-medium bg-primary-50 text-primary-600">
            <div class="flex items-center space-x-3">
              <i class="fas fa-book w-5"></i>
              <span class="sidebar-text">题库管理</span>
            </div>
            <i class="fas fa-chevron-down text-xs sidebar-text"></i>
          </button>
          <div class="submenu ml-8 mt-1 space-y-1">
            <a href="#" class="block px-3 py-1.5 rounded text-sm text-primary-600 bg-primary-50 font-medium">题目列表</a>
            <a href="#" class="block px-3 py-1.5 rounded text-sm text-gray-600 hover:text-primary-600 hover:bg-primary-50">标准录入</a>
            <a href="#" class="block px-3 py-1.5 rounded text-sm text-gray-600 hover:text-primary-600 hover:bg-primary-50">简便录入</a>
            <a href="#" class="block px-3 py-1.5 rounded text-sm text-gray-600 hover:text-primary-600 hover:bg-primary-50">AI出题</a>
            <a href="#" class="block px-3 py-1.5 rounded text-sm text-gray-600 hover:text-primary-600 hover:bg-primary-50">知识点管理</a>
            <a href="#" class="block px-3 py-1.5 rounded text-sm text-gray-600 hover:text-primary-600 hover:bg-primary-50">题目查重</a>
            <a href="#" class="block px-3 py-1.5 rounded text-sm text-gray-600 hover:text-primary-600 hover:bg-primary-50">题库统计</a>
            <a href="#" class="block px-3 py-1.5 rounded text-sm text-gray-600 hover:text-primary-600 hover:bg-primary-50">题目导出</a>
          </div>
        </div>
        <div class="mt-2">
          <button class="menu-item w-full flex items-center justify-between px-3 py-2 rounded text-sm font-medium text-gray-700 hover:bg-gray-50">
            <div class="flex items-center space-x-3">
              <i class="fas fa-file-alt w-5"></i>
              <span class="sidebar-text">试卷管理</span>
            </div>
            <i class="fas fa-chevron-right text-xs sidebar-text"></i>
          </button>
        </div>
        <div class="mt-2">
          <button class="menu-item w-full flex items-center justify-between px-3 py-2 rounded text-sm font-medium text-gray-700 hover:bg-gray-50">
            <div class="flex items-center space-x-3">
              <i class="fas fa-clipboard-check w-5"></i>
              <span class="sidebar-text">考试管理</span>
            </div>
            <i class="fas fa-chevron-right text-xs sidebar-text"></i>
          </button>
        </div>
        <div class="mt-2">
          <button class="menu-item w-full flex items-center justify-between px-3 py-2 rounded text-sm font-medium text-gray-700 hover:bg-gray-50">
            <div class="flex items-center space-x-3">
              <i class="fas fa-brain w-5"></i>
              <span class="sidebar-text">刷题管理</span>
            </div>
            <i class="fas fa-chevron-right text-xs sidebar-text"></i>
          </button>
        </div>
        <div class="border-t border-gray-200 my-4"></div>
        <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">
          <i class="fas fa-cog w-5"></i>
          <span class="sidebar-text">系统设置</span>
        </a>
      </nav>
    </aside>

    <!-- 主内容区 -->
    <main id="mainContent" class="ml-64 pt-16 min-h-screen transition-all duration-300">
      <div class="p-6">
        <!-- 页面标题区 -->
        <div class="flex items-center justify-between mb-6">
          <div>
            <h1 class="text-2xl font-semibold text-gray-900">题目列表</h1>
            <p class="mt-1 text-sm text-gray-500">管理和查看所有题目信息</p>
          </div>
          <div class="flex items-center space-x-3">
            <button class="bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 px-4 py-2 rounded font-medium text-sm transition-colors">
              <i class="fas fa-download mr-2"></i>
              导出
            </button>
            <button onclick="openAddModal()" class="bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded font-medium text-sm transition-colors">
              <i class="fas fa-plus mr-2"></i>
              新增题目
            </button>
          </div>
        </div>

        <!-- 筛选区域 -->
        <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-6 mb-6">
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
            <!-- 题型选择 -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">题型</label>
              <select class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white">
                <option value="">全部题型</option>
                <option value="single">单选题</option>
                <option value="multiple">多选题</option>
                <option value="judge">判断题</option>
                <option value="fill">填空题</option>
                <option value="essay">简答题</option>
              </select>
            </div>

            <!-- 知识点选择 -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">知识点</label>
              <select class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white">
                <option value="">全部知识点</option>
                <option value="1">计算机基础</option>
                <option value="2">数学基础</option>
                <option value="3">英语基础</option>
                <option value="4">语文基础</option>
              </select>
            </div>

            <!-- 难度选择 -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">难度</label>
              <select class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white">
                <option value="">全部难度</option>
                <option value="1">一级</option>
                <option value="2">二级</option>
                <option value="3">三级</option>
                <option value="4">四级</option>
                <option value="5">五级</option>
              </select>
            </div>

            <!-- 关键词搜索 -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">关键词</label>
              <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <i class="fas fa-search text-gray-400"></i>
                </div>
                <input type="text" class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="搜索题目...">
              </div>
            </div>
          </div>

          <!-- 操作按钮 -->
          <div class="flex items-center justify-end space-x-3">
            <button class="bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 px-4 py-2 rounded font-medium text-sm transition-colors">
              <i class="fas fa-redo mr-2"></i>
              重置
            </button>
            <button class="bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded font-medium text-sm transition-colors">
              <i class="fas fa-search mr-2"></i>
              查询
            </button>
          </div>
        </div>

        <!-- 表格区域 -->
        <div class="table-container overflow-x-auto bg-white rounded-lg border border-gray-200 shadow-sm">
          <table class="data-table w-full">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-3 text-left">
                  <input type="checkbox" id="selectAll" class="w-4 h-4 text-primary-500 rounded focus:ring-primary-500 border-gray-300">
                </th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">题目ID</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">题干</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">题型</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">知识点</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">难度</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">创建时间</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
              </tr>
            </thead>
            <tbody id="tableBody">
              <!-- 数据将通过JavaScript动态填充 -->
            </tbody>
          </table>
        </div>

        <!-- 分页器 -->
        <div class="flex items-center justify-between mt-6">
          <div class="text-sm text-gray-600">
            显示 <span class="font-medium text-gray-900">1</span> 到 <span class="font-medium text-gray-900">10</span> 条，
            共 <span class="font-medium text-gray-900">50</span> 条
          </div>
          <div class="flex items-center space-x-1">
            <button class="w-8 h-8 flex items-center justify-center rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
              <i class="fas fa-chevron-left"></i>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded border border-primary-500 bg-primary-500 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50">2</button>
            <button class="w-8 h-8 flex items-center justify-center rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50">3</button>
            <span class="px-2 text-gray-400">...</span>
            <button class="w-8 h-8 flex items-center justify-center rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50">5</button>
            <button class="w-8 h-8 flex items-center justify-center rounded border border-gray-300 text-sm text-gray-700 hover:bg-gray-50">
              <i class="fas fa-chevron-right"></i>
            </button>
            <div class="ml-4 flex items-center space-x-2">
              <select class="px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary-500">
                <option>10</option>
                <option>20</option>
                <option>50</option>
                <option>100</option>
              </select>
              <span class="text-sm text-gray-600">条/页</span>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- 新增题目模态框 -->
  <div id="addModal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
    <div class="bg-white rounded-lg shadow-lg w-full max-w-md max-h-[90vh] overflow-hidden">
      <div class="flex items-center justify-between px-6 py-4 border-b border-gray-200">
        <h3 class="text-lg font-semibold text-gray-900">选择录入方式</h3>
        <button onclick="closeAddModal()" class="text-gray-400 hover:text-gray-600 text-xl">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="px-6 py-4">
        <div class="space-y-3">
          <button class="w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-primary-100 rounded flex items-center justify-center">
                <i class="fas fa-edit text-primary-600 text-lg"></i>
              </div>
              <div class="text-left">
                <p class="text-sm font-medium text-gray-900">标准录入</p>
                <p class="text-xs text-gray-500">结构化表单录入</p>
              </div>
            </div>
            <i class="fas fa-chevron-right text-gray-400"></i>
          </button>

          <button class="w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-info-100 rounded flex items-center justify-center">
                <i class="fas fa-keyboard text-info-600 text-lg"></i>
              </div>
              <div class="text-left">
                <p class="text-sm font-medium text-gray-900">简便录入</p>
                <p class="text-xs text-gray-500">文本格式快速录入</p>
              </div>
            </div>
            <i class="fas fa-chevron-right text-gray-400"></i>
          </button>

          <button class="w-full flex items-center justify-between p-4 border-2 border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-warning-100 rounded flex items-center justify-center">
                <i class="fas fa-robot text-warning-600 text-lg"></i>
              </div>
              <div class="text-left">
                <p class="text-sm font-medium text-gray-900">AI出题</p>
                <p class="text-xs text-gray-500">智能生成题目</p>
              </div>
            </div>
            <i class="fas fa-chevron-right text-gray-400"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- 删除确认模态框 -->
  <div id="deleteModal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
    <div class="bg-white rounded-lg shadow-lg w-full max-w-md max-h-[90vh] overflow-hidden">
      <div class="flex items-center justify-between px-6 py-4 border-b border-gray-200">
        <h3 class="text-lg font-semibold text-gray-900">删除确认</h3>
        <button onclick="closeDeleteModal()" class="text-gray-400 hover:text-gray-600 text-xl">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="px-6 py-4">
        <p class="text-sm text-gray-600">确定要删除这道题目吗？此操作不可恢复。</p>
      </div>
      <div class="flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200 bg-gray-50">
        <button onclick="closeDeleteModal()" class="bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 px-4 py-2 rounded font-medium text-sm">
          取消
        </button>
        <button onclick="confirmDelete()" class="bg-error-500 hover:bg-error-600 text-white px-4 py-2 rounded font-medium text-sm">
          确定删除
        </button>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // 模拟数据
    const mockData = [
      { id: 'Q001', content: '下列关于计算机系统的描述，正确的是？', type: '单选题', category: '计算机基础', difficulty: 2, createTime: '2026-01-15' },
      { id: 'Q002', content: '以下哪些是Python的特点？（多选）', type: '多选题', category: '计算机基础', difficulty: 2, createTime: '2026-01-15' },
      { id: 'Q003', content: 'HTTP协议是无状态协议', type: '判断题', category: '计算机基础', difficulty: 1, createTime: '2026-01-14' },
      { id: 'Q004', content: '请简述面向对象编程的三大特性', type: '简答题', category: '计算机基础', difficulty: 3, createTime: '2026-01-14' },
      { id: 'Q005', content: '二次方程 ax² + bx + c = 0 的求根公式为____', type: '填空题', category: '数学基础', difficulty: 2, createTime: '2026-01-13' },
      { id: 'Q006', content: '英语中的现在完成时态的结构是什么？', type: '简答题', category: '英语基础', difficulty: 2, createTime: '2026-01-13' },
      { id: 'Q007', content: '勾股定理只适用于直角三角形', type: '判断题', category: '数学基础', difficulty: 1, createTime: '2026-01-12' },
      { id: 'Q008', content: '以下哪些属于唐宋八大家？（多选）', type: '多选题', category: '语文基础', difficulty: 3, createTime: '2026-01-12' },
      { id: 'Q009', content: 'SQL中用于查询数据的关键字是？', type: '单选题', category: '计算机基础', difficulty: 1, createTime: '2026-01-11' },
      { id: 'Q010', content: '请解释什么是闭包（Closure）', type: '简答题', category: '计算机基础', difficulty: 4, createTime: '2026-01-11' },
    ];

    // 题型颜色映射
    const typeColors = {
      '单选题': 'bg-info-50 text-info-600',
      '多选题': 'bg-primary-50 text-primary-600',
      '判断题': 'bg-success-50 text-success-600',
      '填空题': 'bg-warning-50 text-warning-600',
      '简答题': 'bg-error-50 text-error-600'
    };

    // 难度颜色映射
    const difficultyColors = {
      1: 'bg-success-50 text-success-600',
      2: 'bg-info-50 text-info-600',
      3: 'bg-warning-50 text-warning-600',
      4: 'bg-error-50 text-error-600',
      5: 'bg-gray-800 text-white'
    };

    const difficultyTexts = {
      1: '一级',
      2: '二级',
      3: '三级',
      4: '四级',
      5: '五级'
    };

    // 渲染表格
    function renderTable() {
      const tbody = document.getElementById('tableBody');
      tbody.innerHTML = mockData.map((item, index) => `
        <tr class="border-t border-gray-200 hover:bg-gray-50">
          <td class="px-6 py-4">
            <input type="checkbox" class="row-checkbox w-4 h-4 text-primary-500 rounded focus:ring-primary-500 border-gray-300">
          </td>
          <td class="px-6 py-4 whitespace-nowrap">
            <span class="text-primary-500 font-mono font-medium">${item.id}</span>
          </td>
          <td class="px-6 py-4">
            <p class="text-sm text-gray-700 max-w-md truncate">${item.content}</p>
          </td>
          <td class="px-6 py-4 whitespace-nowrap">
            <span class="px-2.5 py-0.5 rounded-full text-xs font-medium ${typeColors[item.type]}">${item.type}</span>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">${item.category}</td>
          <td class="px-6 py-4 whitespace-nowrap">
            <span class="px-2.5 py-0.5 rounded-full text-xs font-medium ${difficultyColors[item.difficulty]}">${difficultyTexts[item.difficulty]}</span>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${item.createTime}</td>
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="flex items-center space-x-2">
              <button onclick="viewQuestion('${item.id}')" class="text-primary-500 hover:text-primary-600" title="查看">
                <i class="fas fa-eye"></i>
              </button>
              <button onclick="editQuestion('${item.id}')" class="text-gray-500 hover:text-gray-700" title="编辑">
                <i class="fas fa-edit"></i>
              </button>
              <button onclick="deleteQuestion('${item.id}')" class="text-error-500 hover:text-error-600" title="删除">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </td>
        </tr>
      `).join('');
    }

    // 全选功能
    document.getElementById('selectAll').addEventListener('change', function() {
      const checkboxes = document.querySelectorAll('.row-checkbox');
      checkboxes.forEach(cb => cb.checked = this.checked);
    });

    // 模态框控制
    function openAddModal() {
      document.getElementById('addModal').classList.remove('hidden');
    }

    function closeAddModal() {
      document.getElementById('addModal').classList.add('hidden');
    }

    function openDeleteModal() {
      document.getElementById('deleteModal').classList.remove('hidden');
    }

    function closeDeleteModal() {
      document.getElementById('deleteModal').classList.add('hidden');
    }

    // 操作函数
    function viewQuestion(id) {
      console.log('查看题目:', id);
      alert('跳转到题目详情页: ' + id);
    }

    function editQuestion(id) {
      console.log('编辑题目:', id);
      alert('跳转到编辑页面: ' + id);
    }

    function deleteQuestion(id) {
      console.log('删除题目:', id);
      openDeleteModal();
    }

    function confirmDelete() {
      alert('题目已删除');
      closeDeleteModal();
    }

    // 侧边栏折叠
    const sidebarToggle = document.getElementById('sidebarToggle');
    const sidebar = document.getElementById('sidebar');
    const mainContent = document.getElementById('mainContent');
    let sidebarCollapsed = false;

    sidebarToggle.addEventListener('click', () => {
      sidebarCollapsed = !sidebarCollapsed;
      if (sidebarCollapsed) {
        sidebar.classList.remove('w-64');
        sidebar.classList.add('w-20');
        mainContent.classList.remove('ml-64');
        mainContent.classList.add('ml-20');
        document.querySelectorAll('.sidebar-text').forEach(el => el.classList.add('hidden'));
        document.querySelectorAll('.submenu').forEach(el => el.classList.add('hidden'));
      } else {
        sidebar.classList.remove('w-20');
        sidebar.classList.add('w-64');
        mainContent.classList.remove('ml-20');
        mainContent.classList.add('ml-64');
        document.querySelectorAll('.sidebar-text').forEach(el => el.classList.remove('hidden'));
      }
    });

    // 菜单展开
    const menuItems = document.querySelectorAll('.menu-item');
    menuItems.forEach(item => {
      item.addEventListener('click', () => {
        if (sidebarCollapsed) return;
        const submenu = item.nextElementSibling;
        const icon = item.querySelector('.fa-chevron-right, .fa-chevron-down');
        if (submenu && submenu.classList.contains('submenu')) {
          if (submenu.classList.contains('hidden')) {
            submenu.classList.remove('hidden');
            icon.classList.remove('fa-chevron-right');
            icon.classList.add('fa-chevron-down');
          } else {
            submenu.classList.add('hidden');
            icon.classList.remove('fa-chevron-down');
            icon.classList.add('fa-chevron-right');
          }
        }
      });
    });

    // 用户菜单
    const userMenuBtn = document.getElementById('userMenuBtn');
    const userMenu = document.getElementById('userMenu');
    userMenuBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      userMenu.classList.toggle('hidden');
    });
    document.addEventListener('click', () => {
      userMenu.classList.add('hidden');
    });
    userMenu.addEventListener('click', (e) => {
      e.stopPropagation();
    });

    // 初始化
    renderTable();
  </script>

</body>
</html>
